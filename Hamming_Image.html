<!DOCTYPE html>
<html>
<head>
<title>Error Correcting Codes</title>
<link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css">
<script defer src="https://pyscript.net/latest/pyscript.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="styling.css">

</head>


<body>
<py-config>packages = ["numpy","Pillow","seaborn"]</py-config>
<!-- <py-script src="./website_title.py"></py-script> -->
<div class="jumbotron">
    <p4 style="color:black">Welcome to <h1>Err<span style="color:limegreen" id ="zero"></span>r Correcti<span style="color:limegreen" id="two"></span>g Cod<span style="color:limegreen" id="one"></span>s</h1></p4>
</div>
<div class="container">
    <div id="row1" class="row">
        <h4 >Hamming Codes</h4>
        <p2 class="lead">Hamming codes were invented by Richard Hamming in the 1950's. They allow you to extend the binary message by including information about the message bits in extra bits.
            These extra bits are called parity bits. In the examples below, we will use a specific type of hamming code, the hamming (7,4). 
            This means for every 4 bits encoded we will get back 7 bits with 3 parity bits included.</p2>
    </div>
    <p style="visibility:hidden">Some random text</p>
    <div id="row2" class="row">
        <p2 class="lead">Try encoding some binary messages here. We use matrix multiplication with a <span style="color:crimson">generator matrix</span> here:</p2>
    </div>
    <p style="visibility:hidden">Some random text</p>
    <div class = "row" style="margin-left:50px;">
        <div class="col-sm-1">
            <table style="font-size: x-large;font-family: 'Times New Roman', Times, serif;color:crimson" class="matrix" id="G">
                <tr><td>1</td><td>1</td><td>0</td><td>1</td></tr>
                <tr><td>1</td><td>0</td><td>1</td><td>1</td></tr>
                <tr><td>1</td><td>0</td><td>0</td><td>0</td></tr>
                <tr><td>0</td><td>1</td><td>1</td><td>1</td></tr>
                <tr><td>0</td><td>1</td><td>0</td><td>0</td></tr>
                <tr><td>0</td><td>0</td><td>1</td><td>0</td></tr>
                <tr><td>0</td><td>0</td><td>0</td><td>1</td></tr>
            </table>
        </div>
        <p style="font-weight: bold;margin-left: 45px;margin-right: 15px;margin-top: 130px;font-size: xx-large;font-family: 'Times New Roman', Times, serif;">&#xD7;</p>
        <div class="col-sm-2" style="top: 50px;">
            <table style="font-size: x-large;font-family: 'Times New Roman', Times, serif;" class="matrix">
                <tr><td><select style="color:lightseagreen" id="int1">
                    <option value=0>0</option>
                    <option value=1>1</option>
                </select></td></tr>
                <tr><td><select style="color:lightseagreen" id="int2">
                    <option value=0>0</option>
                    <option value=1>1</option>
                </select></td></tr>
                <tr><td><select style="color:lightseagreen" id="int3">
                    <option value=0>0</option>
                    <option value=1>1</option>
                </select></td></tr>
                <tr><td><select style="color:lightseagreen" id="int4">
                    <option value=0>0</option>
                    <option value=1>1</option>
                </select></td></tr>
            </table> 
        </div>
        <p id="equals1" style="visibility:hidden;margin-left:-20px;margin-right: 20px;margin-top: 130px;font-weight: bold;font-size: xx-large;font-family: 'Times New Roman', Times, serif;">=</p>
        <div class="col-sm-3">
            <div class="row">
            <table style="margin-left:50px;visibility:hidden;font-size: x-large;font-family: 'Times New Roman', Times, serif;" class="matrix" id="output">
                <tr><td style="color:orange" id = 'out_b4_1'></td></tr>
                <tr><td style="color:orange" id = 'out_b4_2'></td></tr>
                <tr><td style="color:lightseagreen" id = 'out_b4_3'></td></tr>
                <tr><td style="color:orange" id = 'out_b4_4'></td></tr>
                <tr><td style="color:lightseagreen" id = 'out_b4_5'></td></tr>
                <tr><td style="color:lightseagreen" id = 'out_b4_6'></td></tr>
                <tr><td style="color:lightseagreen" style="color:lightseagreen" id = 'out_b4_7'></td></tr>
            </table>
            <p id="equals2" style="visibility:hidden;margin-left: 40px;margin-right: 40px;margin-top: 130px;font-weight: bold;font-size: xx-large;font-family: 'Times New Roman', Times, serif;">&#8594;</p>
            <table style="visibility:hidden;font-size: x-large;font-family: 'Times New Roman', Times, serif;" class="matrix" id="output2">
                <tr><td style="color:orange" id = 'out1'></td></tr>
                <tr><td style="color:orange" id = 'out2'></td></tr>
                <tr><td style="color:lightseagreen" id = 'out3'></td></tr>
                <tr><td style="color:orange" id = 'out4'></td></tr>
                <tr><td style="color:lightseagreen" id = 'out5'></td></tr>
                <tr><td style="color:lightseagreen" id = 'out6'></td></tr>
                <tr><td style="color:lightseagreen" id = 'out7'></td></tr>
            </table>
            </div>
        </div>
        <p id="equals3" style="visibility:hidden;margin-left:-30px;margin-right: 20px;;margin-top: 130px;font-weight: bold;font-size: xx-large;font-family: 'Times New Roman', Times, serif;">&#8594;</p>
        <div class="col-sm-4">
            <table style="visibility:hidden;font-size: x-large;font-family: 'Times New Roman', Times, serif;" class="matrix" id="output3">
                <tr><td style="color:lightseagreen" id = 'out_af_1'></td></tr>
                <tr><td style="color:lightseagreen" id = 'out_af_2'></td></tr>
                <tr><td style="color:lightseagreen" id = 'out_af_3'></td></tr>
                <tr><td style="color:lightseagreen" id = 'out_af_4'></td></tr>
                <tr><td style="color:orange" id = 'out_af_5'></td></tr>
                <tr><td style="color:orange" id = 'out_af_6'></td></tr>
                <tr><td style="color:orange" id = 'out_af_7'></td></tr>
            </table>
        </div>
    </div>
    <p style="visibility:hidden">Some random text</p>
    <div id="row3" class="row">
        <p2 class="lead">The outcome of the matrix multiplication is not always enough because sometimes the output has a 2 or 3 which is not binary. When this happens, we apply the 
            rules of a finite field, specifically GF(2). This basically means we take the remainder of each element after we
            divide by two. This allows our result to stay binary. Try different combinations to see how the finite field is applied.</p2>
    </div>
    <p style="visibility:hidden">Some random text</p>
</div>
<div class="container">
    <div id="row4" class="row">
        <p2 class="lead">Now lets encode a binary image. Like the last step from above, we can organise the parity bits to be at the end of the message, or for an image to the very right. What do you think it will look like?</p2>
    </div>
    <p style="visibility:hidden">Some random text</p>
    <div id="output_upload_hamming">
        <!-- do a button here to reveal image? -->
    </div>
</div>
<div class="container">
    <p style="visibility:hidden">Some random text</p>
    <div id="row2" class="row">
        <p2 class="lead">The point of encoding is to correct errors.  We use matrix multiplication with a <span style="color:crimson">syndrome matrix</span> here:</p2>
    </div>
    <p style="visibility:hidden">Some random text</p>
    <p3 style="visibility:hidden">Some random text</p3>
    <div class = "row" style="margin-left: 50px;margin-top: 90px">
        <div class="col-sm-1">
            <table style="font-size: x-large;font-family: 'Times New Roman', Times, serif;color:crimson" class="matrix" id="G">
                <tr><td>1</td><td>1</td><td>0</td><td>1</td><td>1</td><td>0</td><td>0</td></tr>
                <tr><td>1</td><td>0</td><td>1</td><td>1</td><td>0</td><td>1</td><td>0</td></tr>
                <tr><td>0</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>1</td></tr>
            </table>
        </div>
        <p style="font-weight: bold;margin-top:45px;margin-left:105px;margin-right: 20px;font-size: xx-large;font-family: 'Times New Roman', Times, serif;">&#xD7;</p>
        <div class="col-sm-2">  
            <table style="margin-top:-100px;font-size: x-large;font-family: 'Times New Roman', Times, serif;" class="matrix" id="output5">
                <tr><td id = 'out_c_1'></td><td><select id="flip1"><option value=0>&#9744;</option><option value=1>&#9746;</option></select></td></tr>
                <tr><td id = 'out_c_2'></td><td><select id="flip2"><option value=0>&#9744;</option><option value=1>&#9746;</option></select></td></tr>
                <tr><td id = 'out_c_3'></td><td><select id="flip3"><option value=0>&#9744;</option><option value=1>&#9746;</option></select></td></tr>
                <tr><td id = 'out_c_4'></td><td><select id="flip4"><option value=0>&#9744;</option><option value=1>&#9746;</option></select></td></tr>
                <tr><td id = 'out_c_5'></td><td><select id="flip5"><option value=0>&#9744;</option><option value=1>&#9746;</option></select></td></tr>
                <tr><td id = 'out_c_6'></td><td><select id="flip6"><option value=0>&#9744;</option><option value=1>&#9746;</option></select></td></tr>
                <tr><td id = 'out_c_7'></td><td><select id="flip7"><option value=0>&#9744;</option><option value=1>&#9746;</option></select></td></tr>
            </table>
        </div>
        <p id="equals1" style="font-weight: bold;margin-top:45px;margin-left:-20px;margin-right: 20px;font-size: xx-large;font-family: 'Times New Roman', Times, serif;">=</p>
        <div class="col-sm-3">
            <table style="color:aquamarine;margin-left:30px;font-size: x-large;font-family: 'Times New Roman', Times, serif;" class="matrix" id="output">
                <tr><td style="color:purple" id = 'syn1'></td></tr>
                <tr><td style="color:purple" id = 'syn2'></td></tr>
                <tr><td style="color:purple" id = 'syn3'></td></tr>
            </table>
        </div>
        <p id="equals1" style="font-weight: bold;margin-top:45px;margin-left:-140px;margin-right: 20px;font-size: xx-large;font-family: 'Times New Roman', Times, serif;">&#8594;</p>
        <div class="col-sm-4">
            <table style="font-size: x-large;font-family: 'Times New Roman', Times, serif;" class="matrix" id="output3">
                <tr><td style="color:purple" id = 'syn_b_1'></td><td style="color:purple" id = 'syn_b_2'></td><td style="color:purple" id = 'syn_b_3'></td></tr>
                <p id="decimal" style="font-size: x-large;font-family: 'Times New Roman', Times, serif;margin-left:27px"></p>
            </table>
        </div>
    </div>
    <p style="visibility:hidden">Some random text</p>
    <div id="row6" class="row">
        <p2 class="lead">Knowing the place of the error, we can flip the bit. Then deconstruct back the orginal message.</p2>
    </div>
    <p style="visibility:hidden">Some random text</p>
    <div id="row7" class="row">
        <div class="col-sm-1">
            <table style="margin-left:200px;font-size: x-large;font-family: 'Times New Roman', Times, serif;" class="matrix" id="output7">
                <tr><td style="color:orange" id='cor_1'></td></tr>
                <tr><td style="color:orange" id='cor_2'></td></tr>
                <tr><td style="color:lightseagreen" id='cor_3'></td></tr>
                <tr><td style="color:orange" id='cor_4'></td></tr>
                <tr><td style="color:lightseagreen" id='cor_5'></td></tr>
                <tr><td style="color:lightseagreen" id='cor_6'></td></tr>
                <tr><td style="color:lightseagreen" id='cor_7'></td></tr>
            </table>
        </div>
        <p id="equals3" style="margin-left:230px;margin-right: 20px;;margin-top: 130px;font-weight: bold;font-size: xx-large;font-family: 'Times New Roman', Times, serif;">&#8594;</p>
        <div class="col-sm-2" style="margin-left:50px;top: 50px;">
            <table style="font-size: x-large;font-family: 'Times New Roman', Times, serif;" class="matrix">
                <tr><td style="color:lightseagreen" id="final1"></td></tr>
                <tr><td style="color:lightseagreen" id="final2"></td></tr>
                <tr><td style="color:lightseagreen" id="final3"></td></tr>
                <tr><td style="color:lightseagreen" id="final4"></td></tr>
            </table>  
        </div>
    </div>
</div>
<div class="container">
    <p style="visibility:hidden;">Some random text</p>
    <div id="row5" class="row">
        <p2 class="lead">You can adjust the noise level here:
            <select class="form_control" id="selection_box1">
                <option value=1>0.25%</option>
                <option value=2>0.5%</option>
                <option value=4>1.0%</option>
                <option value=6>1.5%</option>
                <option value=8>2.0%</option> 
            </select>
        </p2>
    </div>
    <div id="output_upload_noise"></div>
    <p style="visibility:hidden;">Some random text</p>
    <div  id="output_upload_noisy_image"></div>
    <p style="visibility:hidden;">Some random text</p>
    <p2 class="lead">You can see how much error it can correct and how much still gets through. Take note, the level of noise that can get through.</p2> 
    <div  id="output_upload_corrected"></div>
</div>
<div class="container">
    <h4 >Reed Solomon Codes</h4>
    <p2 class="lead">If we want to correct more errors we need Reed Solomon Codes. These are much more useful 
        and have practical use in communications and DVD's. In the Reed Solomon codes below, 8 bits are collected 
        together to make up a symbol that can be encoded in a similar process.</p2>
    <p style="visibility:hidden;">Some random text</p>
    <p2 class="lead">Here we can extend the image to include more parity bytes:
        <select class="form_control" id="selection_box2">
            <option value=1>(9,5)</option>
            <option value=3>(17,5)</option> 
            <option value=5>(25,5)</option>
            <option value=7>(33,5)</option> 
            <option value=9>(41,5)</option> 
        </select>
    </p2>
    <div id="reed_s"></div>
    <p2 class="lead">Choose the noise level here:
        <select class="form_control" id="selection_box3">
            <option value=0.5>0.25%</option>
            <option value=1>0.5%</option>
            <option value=2>1.0%</option>
            <option value=3>1.5%</option> 
            <option value=4>2.0%</option>
        </select>
    </p2>
    <div id="noisy_2"></div>
    <p style="visibility:hidden">Some random text</p>
    <div id="noisy_image_2"></div>
    <p style="visibility:hidden">Some random text</p>
    <p2 class="lead">After error correction the image looks like this</p2>
    <div id="corrected_2"></div>
</div>
<div class="jumbotron">
    <p4 style="color:black">Want to try it with your own image?</p4>
    <p4 style="color:black">Upload an image, please be patient, it take a few minutes to load</p4>
    <label for="Upload a PNG image"><input type="file" id="file-upload"></label>
    <div class="row">
        <div id="output_upload"></div>
        <div id="loading_ani"><div></div><div></div><div></div></div>
    </div>
    <py-script src="./widget.py"></py-script>
</div>

</body>
</html>
